<div class="container d-flex  w-100 justify-content-center mt-3 a">
    <h1>Historial de pedidos</h1>
</div>
<div class="container mt-4">
    <div class="col">
        <table class="table">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Descripcion</th>
                    <th scope="col">Estado</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let pedido of pedidos; let i = index">
                    <td> {{ i }} </td>
                    <td>
                        <div class="container">
                            <p>Fecha de solicitud: <i>{{ pedido.fechaInicio }}</i></p>
                            <p>Fecha de entrega: <i>{{ pedido.fechaFin }}</i></p>
                            <p>codigo pedido: <i>{{ pedido.id }}</i></p>
                            <p>Total: <i>{{ pedido.total | currency }} COP</i></p>
                            <p>Nombre destinatario: <i>{{ pedido.cliente.nombre }}</i></p>
                            <p>Direccion: <i>{{ pedido.cliente.direccion }}</i></p>
                            <p>telefono: <i>{{ pedido.cliente.telefono }}</i></p>
                        </div>
                    </td>
                    <td>
                        <div class="col mb-1 z">
                            <span [ngClass]="[verEstado( pedido.estado )]">{{ pedido.estado }}</span>
                        </div>
                        <select *ngIf="isAdmin" (change)="modificar( pedido , estado.value)" #estado class="custom-select col-8 mb-2 ml-3" id="inputGroupSelect01">
                            <option selected disabled>Cambia el estado</option>
                            <option value="Pendiente">Pendiente</option>
                            <option value="Enviado">Enviado</option>
                            <option value="Finalizado">Finalizado</option>
                            <option value="Cancelado">Cancelado</option>
                        </select>
                        <div class="col mb-2">
                            <button class="btn btn-success mr-1" [routerLink]="['/DetallePedido', pedido.id]">
                            <i class="fas fa-address-card" ></i>Detalles</button>
                        </div>
                        <div *ngIf="!isAdmin" class="col mb-2">
                            <button (click)="cancelarPedido( pedido )" [disabled]="pedidoCancelado( pedido )" class="btn btn-danger mr-1">
                          <i class="fas fa-sign-out-alt" ></i>Cancelar pedido</button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>